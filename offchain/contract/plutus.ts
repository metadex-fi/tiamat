// eslint-disable-next-line @typescript-eslint/ban-ts-comment
// @ts-nocheck
import { type Script } from "@blaze-cardano/core";
import { applyParamsToScript, cborToScript } from "@blaze-cardano/uplc";
import { type PlutusData } from "@blaze-cardano/core";

export interface V3MatrixNftPolicy {
  new (
    matrixAddress: {
      paymentCredential: { VerificationKey: [string] } | { Script: [string] };
      stakeCredential:
        | { Inline: [{ VerificationKey: [string] } | { Script: [string] }] }
        | {
            Pointer: {
              slotNumber: bigint;
              transactionIndex: bigint;
              certificateIndex: bigint;
            };
          }
        | null;
    },
    nexus: { currency: string; token: string },
  ): Script;
  _redeemer: PlutusData;
}

export const V3MatrixNftPolicy = Object.assign(
  function (
    matrixAddress: {
      paymentCredential: { VerificationKey: [string] } | { Script: [string] };
      stakeCredential:
        | { Inline: [{ VerificationKey: [string] } | { Script: [string] }] }
        | {
            Pointer: {
              slotNumber: bigint;
              transactionIndex: bigint;
              certificateIndex: bigint;
            };
          }
        | null;
    },
    nexus: { currency: string; token: string },
  ) {
    return cborToScript(
      applyParamsToScript(
        "59111a0101003232323232323232323232322225333007323232323253323300d3001300f37540042646464646464664646646646464646464646464646464444a6604c9210d6d6b5f7468726561645f6e66740013232330010013300c3756605a605c605c605c605c60546ea807c00c894ccc0b0004528899299981499191919299981699b87002480045288a998171b993300f3750601a6eb0c078c0c0dd5012a441001533302d30190021533302d3300c3758603c60606ea80948c94cc0c12401067461726765740015330303732660226ea40052210015330304910868616c665f6e66740015330303732660226ea400d221001533030491036e66740015330303732660226ea40152210013371e00200664a66060920113736565642e7472616e73616374696f6e5f6964001533030373266022604060646ea800522100153303049111736565642e6f75747075745f696e646578001533030373266022604260646ea80052210015330303732660226ea4cdc59bad3021303237540026eb8c080c0c8dd5000a4500133013372866e2cdd6981098191baa001375c604060646ea80052020301f303137540022660186eb0c080c0c0dd50129299981719baf301f30313754002054264a6660660022a660609201096e6f20746f6b656e73001613253330343037002132325333032301e375a606a004264a666066a66606666e3c03cdd71812181b1baa302430363754002294454cc0d1240128746869735f706f6c696379203d3d20646174756d2e69642e63757272656e6379203f2046616c73650014a02a666066a666066a66606666e3c024dd71812981b1baa302430363754002266e3c0240085280a51153303449012e6e6674203d3d20646174756d2e69642e746f6b656e202626206e6674203d3d2069645f6e6674203f2046616c73650014a02a666066666666602001c6048606c6ea8004c094c0d8dd50009813181b1baa0013756604a606c6ea801803c0ac5288a9981a2481637374617274696e675f666e286e657875735f7574786f2c20646174756d2e69642c20646174756d2e636f6e6669672c20646174756d2e73746174652c206f75747075742e76616c75652c20746869735f706f6c6963792c20747829203f2046616c73650014a02940528299819a490e65787472616374206d6174726978001325333033302030353754002264a6666660780022a6660686050606c6ea80044c94ccc0e40040cc4c94cccccc0f80044c94ccc0ec0040d44c94cccccc1000044c94ccc0f40040dc4c94cccccc10800454ccc0f8c1040084ccc0a801454ccc0e8c0b8c0f0dd5001899299981f80081c89929999998220008a999820182180109998160008a99981e1818181f1baa003132533304100103b1325333333046001132533304300103d132533333304800103e03e13253330453048003133303000413302f0012253330470021010132533333304c00115333044303830463754002264a666092002086264a66666609c00208808808826464a66609800208c264a6666660a200208e08e08e26464a66609e002092264a6666660a800209409409409426464a6660a4002098264a6666660ae00209a09a09a09a26464a6660aa00209e264a6666660b40020a00a00a0264a6660ae60b40062602260b40240a26eb4004140c15c004c15c00cdd7000982a000982a0019bae00130510013051003375a00208e609c002609c0066eb4004110c12c004c11cdd5000821021021021021182480101f81f9bac00103e03e3045001304500203c03c03c03c3043001303f37540060740740740740740740746082002607a6ea800c0e00e00e00e00e00e00e0c0fc004c0fc0080d80d80d80d8c0f4004c0f40080d00d00d00d0c0ec004c0dcdd5000819019019019019181c981b1baa00103030253035375400a0066eb8c0cc004c0d800800454cc0c124010f746f6f206d616e7920746f6b656e730016330133756604060626ea80040285280a5014a06602000490101bad302e002375c6058002605e0042660060060022940c0bc0054ccc094c044c09cdd50018a60103d87a8000133225330284911266696e645f7265666572656e63655f73766d001323300100100222533302d00114c103d87a800013232533302b301733322232533302f301b303137540022900009bad30353032375400264a66605e603660626ea80045300103d87a8000132330010013756606c60666ea8008894ccc0d4004530103d87a80001323232325333035337220100042a66606a66e3c0200084c080cc0e8dd4000a5eb80530103d87a8000133006006003375a606e0066eb8c0d4008c0e4008c0dc004cc06000c008dd5980e98171baa301d302e37540046eb8c070c0b8dd50031bae301d302e375400c2602c6606000497ae01330040040013031002302f001302b302837540066eb0c05cc0a0dd500e9119198008008019129998148008a5013253330263004302c00214a22660060060026058002600200244a66604a00229000099b8048008cc008008c0a0004c0040048894ccc8cccc0a400c4c8c8c8c8c8c8cc038008004cdc52450128000025333025337100069007099b80483c80400c54ccc094cdc4001a410004266e00cdc0241002800690068b2999814000899b8a4881035b5d2900005133714911035b5f2000333300a00133714911025d2900005223330090090023006001223330090090020013758604c0046eb4c090004c8cdd81ba83024001374e604a0026ea800c4c94ccc0980044cdc52441027b7d00003133714911037b5f2000323233001001003225333029001100315333029302c0011323330090093028001337149101023a20003330090093029001004302b0011323330090093028001337149101023a20003330090093029001300633003003302d002302b0013371491102207d000033756006264a66604c002266e29221025b5d00003133714911035b5f2000333300800133714911015d000032233300700700230040012233300700700200137580066e292201022c2000133007375a0040022646466e2922010268270000132333001001337006e3400920013371491101270000322253330243371000490000800899191919980300319b8000548004cdc599b80002533302733710004900a0a40c02903719b8b33700002a66604e66e2000520141481805206e0043370c004901019b8300148080cdc70020011bae0022233371800266e04dc68010008011119299980f180518101baa00114bd6f7b63009bab3024302137540026600e0040024444646600200200a44a666048002200a2a666048604e002266006604c00200a266008604c00266004004604e00244646600200200644a66603a6022002266e292210130000031533301d337100029000099b8a489012d003300200233702900000089980299b8400148050cdc599b803370a002900a240c00066002002444a66603466e2400920001001133300300333708004900a19b8b3370066e1400920144818000488c8cc00400400c894ccc078004530103d87a8000132323232533301e3372200e0042a66603c66e3c01c0084c024cc08cdd3000a5eb80530103d87a8000133006006003375660400066eb8c078008c088008c080004c004cc06c0452f5c06e95200032222222253301e49010c6d61747269782e7374617274001533301d3011301f375400e2646464a66604066e3c00801454ccc080cdc78011bae301130233754012266e3c004dd7180918119baa00914a02940dd7180898111baa3010302237540046eb8c03cc084dd5180798109baa001300f3020375464a6603e9210d65787472616374206e6578757300132533301f300c30213754002264a6666660500022a666040602860446ea80044c94ccc0940040804c94cccccc0a80044c94ccc09c0040884c94cccccc0b00044c94ccc0a40040904c94cccccc0b800454ccc0a8c0b40084ccc05801454ccc098c068c0a0dd500189929998158008130992999999818000899299981680081409929998171818801099980d0018a999815180f18161baa005132533302f00102a1325333333034001132533303100102c13232533303300102e132533333303800102f02f132325333036001031132533333303b00115333037303a002133302200813302100322533303900215333035302930373754006264a66607400206a264a66666607e002264a66607800206e264a6666660820022a66607a6080004266604800626660480022034070070070070070070070607c002607c00406c06c06c06c607800260706ea800c0d04c94cccccc0f80040d40d40d40d44c8c00cc0f8010dd7000981d801019019019019019019181c000981c0019bac00102f02f303500130350023033001303300202b02b02b02b3031001302d375400a052052052605e002605e00404e04e04e04e605a00260526ea800c094094094094094094094c0ac004c0ac00808c08c08c08cc0a4004c0a4008084084084084c09c004c08cdd500080f80f80f80f80f981298111baa00101c301130213754002601e60406ea8c08cc080dd50038a9980f2492465787065637420536f6d65286e657875735f7574786f29203d206e657875735f7574786f00162225333018300c301a3754006264a66603a002004264a666666044002264a66603e002008264a666666048002264a66604260400022a66603a66e252004301f001006132533302230250041323253330203014001153330243023375400e2a0040122a6660406018002264a66604a002014264a666666054002016016016264a66604e60540062a00a0186eb400402cc09c004c08cdd50038a99981018068008a99981218119baa007150020090093021375400c2a01000e6012603e00200c6ea8004014014014014c084004c08400800c00c00c00cc07c004c06cdd50018009b8748008dc3a40086eb8c064c058dd500411191980080080191198018009801001111299980a1804180b1baa0031325333019001002132533333301e00100300300313232533301c001005132533333302100100600600613232533301f001008132533333302400100900900913232533302200100b132533333302700100c00c00c13232533302500100e132533333302a00100f00f00f132325333028001011132533333302d00101201201213232533302b001014132533333303000101501501513232533302e001017132533333303300101801801801813232533303100101a13253333330360011533303230350021533302e302230303754002264a666066002038264a66666607000203a03a03a26464a66606c00203e264a666666076002040040040264a66607060760062a0440426eb4004080c0e0004c0e000cdd680080e981a80098189baa00101b01b01b01b01b01b30330013033003375c002606000260600066eb4004054c0b4004c0b400cdd6800809181500098150019bad00100f30270013027003375a002018604800260480066eb4004024c084004c08400cdd6800803180f000980f0019bad001003301b00130173754006002444a666026600e602a6ea800c4c94ccc0600040084c94cccccc07400400c00c00c00c4c8c94ccc06c0040144c94cccccc0800040180180180184c94ccc074c08000c5402001cdd7000980e800980e8019bae001301a001301637540060024602c0024602a602c00246028602a602a0026e1d2000153300d4911b6d6174726978206e66745f706f6c6963793a206e6f74206d696e7400163011301200230100013010002300e001300a37540022930a998042491856616c696461746f722072657475726e65642066616c73650013656153300449012c6578706563742074782e496e6c696e65446174756d28696e6c696e6529203d206f75747075742e646174756d001615330034912265787065637420646174756d3a204d6174726978446174756d203d20696e6c696e65001615330024912165787065637420646174756d3a204e65787573446174756d203d20696e6c696e6500165734ae7155ceaab9e5573eae815d0aba257481",
        [matrixAddress, nexus],
        {
          dataType: "list",
          items: [
            {
              title: "Address",
              description:
                "A Cardano `Address` typically holding one or two credential references.\n\n Note that legacy bootstrap addresses (a.k.a. 'Byron addresses') are\n completely excluded from Plutus contexts. Thus, from an on-chain\n perspective only exists addresses of type 00, 01, ..., 07 as detailed\n in [CIP-0019 :: Shelley Addresses](https://github.com/cardano-foundation/CIPs/tree/master/CIP-0019/#shelley-addresses).",
              anyOf: [
                {
                  title: "Address",
                  dataType: "constructor",
                  index: 0,
                  fields: [
                    {
                      title: "paymentCredential",
                      description:
                        "A general structure for representing an on-chain `Credential`.\n\n Credentials are always one of two kinds: a direct public/private key\n pair, or a script (native or Plutus).",
                      anyOf: [
                        {
                          title: "VerificationKey",
                          dataType: "constructor",
                          index: 0,
                          fields: [{ dataType: "bytes" }],
                        },
                        {
                          title: "Script",
                          dataType: "constructor",
                          index: 1,
                          fields: [{ dataType: "bytes" }],
                        },
                      ],
                    },
                    {
                      title: "stakeCredential",
                      anyOf: [
                        {
                          title: "Some",
                          description: "An optional value.",
                          dataType: "constructor",
                          index: 0,
                          fields: [
                            {
                              description:
                                "Represent a type of object that can be represented either inline (by hash)\n or via a reference (i.e. a pointer to an on-chain location).\n\n This is mainly use for capturing pointers to a stake credential\n registration certificate in the case of so-called pointer addresses.",
                              anyOf: [
                                {
                                  title: "Inline",
                                  dataType: "constructor",
                                  index: 0,
                                  fields: [
                                    {
                                      description:
                                        "A general structure for representing an on-chain `Credential`.\n\n Credentials are always one of two kinds: a direct public/private key\n pair, or a script (native or Plutus).",
                                      anyOf: [
                                        {
                                          title: "VerificationKey",
                                          dataType: "constructor",
                                          index: 0,
                                          fields: [{ dataType: "bytes" }],
                                        },
                                        {
                                          title: "Script",
                                          dataType: "constructor",
                                          index: 1,
                                          fields: [{ dataType: "bytes" }],
                                        },
                                      ],
                                    },
                                  ],
                                },
                                {
                                  title: "Pointer",
                                  dataType: "constructor",
                                  index: 1,
                                  fields: [
                                    {
                                      dataType: "integer",
                                      title: "slotNumber",
                                    },
                                    {
                                      dataType: "integer",
                                      title: "transactionIndex",
                                    },
                                    {
                                      dataType: "integer",
                                      title: "certificateIndex",
                                    },
                                  ],
                                },
                              ],
                            },
                          ],
                        },
                        {
                          title: "None",
                          description: "Nothing.",
                          dataType: "constructor",
                          index: 1,
                          fields: [],
                        },
                      ],
                    },
                  ],
                },
              ],
            },
            {
              title: "Asset",
              anyOf: [
                {
                  title: "Asset",
                  dataType: "constructor",
                  index: 0,
                  fields: [
                    { title: "currency", dataType: "bytes" },
                    { title: "token", dataType: "bytes" },
                  ],
                },
              ],
            },
          ],
        } as any,
      ),
      "PlutusV3",
    );
  },

  { _redeemer: { title: "Data", description: "Any Plutus data." } },
) as unknown as V3MatrixNftPolicy;

export interface V3MatrixSvmValidator {
  new (): Script;
  datum: {
    id: { currency: string; token: string };
    config: { eigenwert: { currency: string; token: string } };
    state: {
      params: {
        minStake: bigint;
        cycleDuration: bigint;
        marginDuration: bigint;
        hingeLock: bigint;
        numEigenvectors: bigint;
        numSupportVectors: bigint;
        suggestedTip: bigint;
        vestingPolicy: string;
        vestingRate: { numerator: bigint; denominator: bigint };
      };
      eigenValues: Array<{
        start: bigint;
        end: bigint;
        vector: string;
        ip: string;
        port: bigint;
      }>;
    };
  };
  redeemer:
    | {
        Revolve: {
          action: {
            vector: string;
            action:
              | { RegisterVector: { ip: string; port: bigint } }
              | "DeregisterVector"
              | "ChangeStake"
              | { UpdateVector: { ip: string; port: bigint } }
              | "ChangeProtocolParams";
          };
        };
      }
    | {
        Halt: {
          action: {
            vector: string;
            action:
              | { RegisterVector: { ip: string; port: bigint } }
              | "DeregisterVector"
              | "ChangeStake"
              | { UpdateVector: { ip: string; port: bigint } }
              | "ChangeProtocolParams";
          };
        };
      }
    | "Wipe";
}

export const V3MatrixSvmValidator = Object.assign(
  function () {
    return cborToScript(
      "590ffd010100323232323232323232323225333004323232323253323300a3001300c37540042646464a66666602a00c26464664464a6660246008002264a66602e002022264a6666660380022a6660306036004266600a0022a0080240240240240240246032002602a6ea802c54ccc048c0240044c94ccc05c0040444c94cccccc07000454ccc060c06c0084ccc01400454010048048048048048048c064004c054dd50058a99980918028008a99980b180a9baa00b1500201001030133754014444a666024600860286ea800c4c94ccc05c0040084c94cccccc07000400c00c00c00c4c8c94ccc0680040144c94cccccc07c00454ccc06cc0780084c8c94ccc064c02c0044c94ccc0780040244c94cccccc08c0040280280280284c8c94ccc0840040304c94cccccc0980040340340344c94ccc08cc09800c54020038dd6800806981180098118019bae0013020001301c37540062a66603260200022a66603a60386ea800c5400802054ccc064c03000454ccc074c070dd50018a8010040a99980c99b87480180044c94ccc0780040244c94cccccc08c0040280280280284c8c94ccc0840040304c94cccccc0980040340340344c94ccc08cc09800c54020038dd6800806981180098118019bae0013020001301c37540062a66603266e1d20080011533301d301c37540062a00401001060346ea80085401c018018018018018c070004c07000cdd7000980c800980a9baa0030011533010491146d61747269782073766d5f76616c696461746f72001533300f300130113754006264666444a6602892010c6d6b5f76616c696461746f720014a2644a660269210e65787472616374206d6174726978001325333013300630153754002264a6666660380022a666028600c602c6ea80044c94ccc0640040504c94cccccc0780044c94ccc06c0040584c94cccccc0800044c94ccc0740040604c94cccccc08800454ccc078c0840084ccc02801454ccc068c030c070dd5001899299980f80080d09929999998120008a999810181180109998060008a99980e1807180f1baa003132533302100101c1325333333026001132533302300101e132533333302800101f01f1325333025302800315333021301330233754008264a66604c002042264a66666605600204404404426464a666052002048264a66666605c00204a04a04a26464a66605800204e264a66666606200205005005026464a66605e002054264a66666606800205605605626464a66606400205a264a66666606e00205c05c05c26464a66606a002060264a66666607400206206206226464a666070002066264a66666607a00206806806826464a66607600206c264a66666608000206e06e06e06e26464a66607c002072264a6666660860022a66607e60840042a666076605a607a6ea80044c94ccc1000040ec4c94cccccc1140040f00f00f04c8c94ccc10c0040f84c94cccccc1200040fc0fc0fc4c94ccc114c12000c4c8cc00400408888c94ccc12000840c44c94cccccc13400454ccc114c0dcc11cdd5000899299982500082289929999998278008230230230991929998268008240992999999829000824824824899192999828000825899299999982a800826026026026099192999829800827099299999982c00082782782782789919299982b000828899299999982d800829029029099299982c182d80189808982d8090299bad00105230580013058003375c00260aa00260aa0066eb8004c148004c14800cdd6800824982780098278019bad001046304c00130483754002088088088088088609400460040040806eb40040fcc114004c11400cdd680081e1821000981f1baa00103a03a03a03a03a03a30400013040003375c002607a002607a0066eb40040d0c0e8004c0e800cdd6800818981b800981b8019bad00102e30340013034003375a002056606200260620066eb40040a0c0b8004c0b800cdd6800812981580098158019bad0010223028001302437540080400406eb000407c07cc094004c094008074074074074c08c004c07cdd500180d80d80d80d80d80d80d9810800980e9baa003019019019019019019019301f001301f002017017017017301d001301d002015015015015301b001301737540020260260260260266032602c6ea800454cc05124012c6578706563742074782e496e6c696e65446174756d28696e6c696e6529203d206f75747075742e646174756d0016300330153754002444a666026600a602a6ea800c4c94ccc0600040084c94cccccc07400400c00c00c00c4c8c94ccc06c0040144c94cccccc0800040180180180184c94ccc074c08000c5402001cdd7000980e800980e8019bae001301a00130163754006002646464646464644444444444a660449210f6d61747269782e756e68696e67656400153330213330213322323300100100322533302900114a0264a66604c66e3cdd718160010020a51133003003001302c0013758602260486ea8004dd7180818121baa0054a094454cc088dcc9919199800800998141ba9373092106566563746f72003302837526e60c044dd7180918131baa0073302837526e612401156973206e6f742061207369676e61746f7279206f6600323300100137586028604e6ea8010894ccc0a400452f5c02660546ea4dcc18099bae302b00133002002302c00148810022253330290021001132333004004302d00353330263018371a00426e600044cdc500119b8a00537300026e64dd718158011b98491010a00161323232533302453330243371000290000a99812a4810a7769746864726177616c0013300e3758602a604e6ea801094ccc094c8c8cc004004dd5980918151baa00322533302c00114a026464a66605466e440140044cdc78028008998020020011bae302b302f002302f001375c6056605860586058605860586058605860506ea80104cdc39998089bab3010302837540026eb8c050c0a0dd50019bae30103028375400666e05200000214a02a6604a9201076465706f7369740014a226464a6466604e60320042646464a6605692010e5265676973746572566563746f72001533302a3371000e6eb4c064c0b4dd50048a99815a49205265676973746572566563746f723a205374616b6520697320746f6f206c6f7700161533302a330143758602a605a6ea80408cdc79bae301c302e37540026eb8c068c0b8dd50078a99815a49295265676973746572566563746f723a20566563746f7220616c7265616479207265676973746572656400161323253302d491155265676973746572566563746f723a20737461727400130063019330313032302f3754024660626e9ccc0c4c064cc0c4dd4001198189ba800133031301b302f3754020660626ea4010cc0c4dd4001a5eb80dd6180b98179baa0124bd7019b8000100832533302f0011480004cdc01bad3016302e3754606200290011bac3015302d37540206eb4c0bcc0c0008dd7181700098151baa00315333027301e002153302849011044657265676973746572566563746f72001300130143302c302d302a375401a660586e9cc8cc004004dd6180998159baa00e22533302d001153302a491297472616e73666f726d5f756e74696c5f64656c6574653a20656c656d656e74206e6f7420666f756e64001613232533302b533302b3371e6eb8c070c0b8dd50011bae301a302e375401e266e1ccdc09bad301a302e37540046eb4c058c0b8dd50010040a501001133030301833030375066e00dd6980d18171baa00200833030375066e00dd6980b18171baa00200830323032302e3754004660080080026062004605e00297ae015333027301a002153302849010b4368616e67655374616b65001300130143302c302d302a375401a660586e9cc8cc004004dd6180998159baa00e22533302d001153302a491277472616e73666f726d5f756e74696c5f66696e643a20656c656d656e74206e6f7420666f756e64001613232533302b533302b3371e6eb8c070c0b8dd50011bae301a302e375401e266e24dd6980d18171baa00a3370266e00020dd6980b18171baa002375a6034605c6ea800852809981819180c998189819000998189ba8337006eb4c05cc0bcdd50018049819981980098171baa002001133030301833030375066e00dd6980d18171baa00200833030375066e00dd6980b18171baa00200830323032302e3754004660080080026062004605e00297ae0153330273370e90030010991919299815a4810c557064617465566563746f72001533302a301c0071300430173302f3030302d37540206605e6e9cc8cc004004dd6180b18171baa011225333030001153302d49012166696e645f7472616e73666f726d3a20656c656d656e74206e6f7420666f756e64001613232533302e3371e6eb8c07cc0c4dd50011bae301d303137540242660666464603a6606a606c0046606a606c0026606a606c606e0026606a6ea4020cc0d4dd4003a5eb80c0d8004c0c4dd500100089981980119802002000981a0011819000a5eb805281bad302f3030002375c605c00260546ea800c54cc0a124010f6e6f7420696d706c656d656e7465640016375e012604e6ea8004c03cc09cdd50040a503370266601e00a6eb8c048c098dd50009bae300e3026375400266601e0106eb8c048c098dd50009bae300e302637540026022604a6ea8024c040c090dd500391191980080080191299980f0008a50132533301b3004302100214a2266006006002604200246038603a00244464a666030601e60346ea8004520001375a603c60366ea8004c94ccc060c03cc068dd50008a6103d87a8000132330010013756603e60386ea8008894ccc078004530103d87a8000132323232533301e337220100042a66603c66e3c0200084c02ccc08cdd4000a5eb80530103d87a8000133006006003375a60400066eb8c078008c088008c080004c8cc004004010894ccc0740045300103d87a8000132323232533301d337220100042a66603a66e3c0200084c028cc088dd3000a5eb80530103d87a80001330060060033756603e0066eb8c074008c084008c07c004dd2a400046e64c8ccc004004cdc01b8d0024800522010022253330163371000490000800899191919980300319b8000548004cdc599b80002533301933710004900a0a40c02903719b8b33700002a66603266e2000520141481805206e0043370c004901019b8300148080cdc70020011180c0009180b980c180c180c180c180c180c180c180c000980b18099baa0042301630173017001153301049012f65787065637420536f6d6528646174756d293a204f7074696f6e3c4d6174726978446174756d3e203d20646174756d0016370e90001b874801002c02c02c02cc048c04c008c044004c034dd50011b874800854cc0292411f6d61747269782073766d5f76616c696461746f723a206e6f74207370656e640016300e300f002300d001300d002300b001300737540022930a99802a491856616c696461746f722072657475726e65642066616c73650013656153300349011872656465656d65723a204d617472697852656465656d6572001615330024912265787065637420646174756d3a204d6174726978446174756d203d20696e6c696e6500165734ae7155ceaab9e5573eae815d0aba257481",
      "PlutusV3",
    );
  },
  {
    datum: {
      title: "MatrixDatum",
      anyOf: [
        {
          title: "Datum",
          dataType: "constructor",
          index: 0,
          fields: [
            {
              title: "id",
              anyOf: [
                {
                  title: "Asset",
                  dataType: "constructor",
                  index: 0,
                  fields: [
                    { title: "currency", dataType: "bytes" },
                    { title: "token", dataType: "bytes" },
                  ],
                },
              ],
            },
            {
              title: "config",
              anyOf: [
                {
                  title: "MatrixConfig",
                  dataType: "constructor",
                  index: 0,
                  fields: [
                    {
                      title: "eigenwert",
                      anyOf: [
                        {
                          title: "Asset",
                          dataType: "constructor",
                          index: 0,
                          fields: [
                            { title: "currency", dataType: "bytes" },
                            { title: "token", dataType: "bytes" },
                          ],
                        },
                      ],
                    },
                  ],
                },
              ],
            },
            {
              title: "state",
              anyOf: [
                {
                  title: "MatrixState",
                  dataType: "constructor",
                  index: 0,
                  fields: [
                    {
                      title: "params",
                      anyOf: [
                        {
                          title: "TiamatParams",
                          dataType: "constructor",
                          index: 0,
                          fields: [
                            { dataType: "integer", title: "minStake" },
                            { dataType: "integer", title: "cycleDuration" },
                            { dataType: "integer", title: "marginDuration" },
                            { dataType: "integer", title: "hingeLock" },
                            { dataType: "integer", title: "numEigenvectors" },
                            { dataType: "integer", title: "numSupportVectors" },
                            { dataType: "integer", title: "suggestedTip" },
                            { title: "vestingPolicy", dataType: "bytes" },
                            {
                              title: "vestingRate",
                              anyOf: [
                                {
                                  title: "FreeRational",
                                  dataType: "constructor",
                                  index: 0,
                                  fields: [
                                    { dataType: "integer", title: "numerator" },
                                    {
                                      dataType: "integer",
                                      title: "denominator",
                                    },
                                  ],
                                },
                              ],
                            },
                          ],
                        },
                      ],
                    },
                    {
                      dataType: "list",
                      items: {
                        title: "EigenValue",
                        anyOf: [
                          {
                            title: "EigenValue",
                            dataType: "constructor",
                            index: 0,
                            fields: [
                              { dataType: "integer", title: "start" },
                              { dataType: "integer", title: "end" },
                              { title: "vector", dataType: "bytes" },
                              { dataType: "bytes", title: "ip" },
                              { dataType: "integer", title: "port" },
                            ],
                          },
                        ],
                      },
                      title: "eigenValues",
                    },
                  ],
                },
              ],
            },
          ],
        },
      ],
    },
  },
  {
    redeemer: {
      title: "MatrixRedeemer",
      anyOf: [
        {
          title: "Revolve",
          dataType: "constructor",
          index: 0,
          fields: [
            {
              title: "action",
              anyOf: [
                {
                  title: "MatrixAction",
                  dataType: "constructor",
                  index: 0,
                  fields: [
                    { title: "vector", dataType: "bytes" },
                    {
                      title: "action",
                      anyOf: [
                        {
                          title: "RegisterVector",
                          dataType: "constructor",
                          index: 0,
                          fields: [
                            { dataType: "bytes", title: "ip" },
                            { dataType: "integer", title: "port" },
                          ],
                        },
                        {
                          title: "DeregisterVector",
                          dataType: "constructor",
                          index: 1,
                          fields: [],
                        },
                        {
                          title: "ChangeStake",
                          dataType: "constructor",
                          index: 2,
                          fields: [],
                        },
                        {
                          title: "UpdateVector",
                          dataType: "constructor",
                          index: 3,
                          fields: [
                            { dataType: "bytes", title: "ip" },
                            { dataType: "integer", title: "port" },
                          ],
                        },
                        {
                          title: "ChangeProtocolParams",
                          dataType: "constructor",
                          index: 4,
                          fields: [],
                        },
                      ],
                    },
                  ],
                },
              ],
            },
          ],
        },
        {
          title: "Halt",
          dataType: "constructor",
          index: 1,
          fields: [
            {
              title: "action",
              anyOf: [
                {
                  title: "MatrixAction",
                  dataType: "constructor",
                  index: 0,
                  fields: [
                    { title: "vector", dataType: "bytes" },
                    {
                      title: "action",
                      anyOf: [
                        {
                          title: "RegisterVector",
                          dataType: "constructor",
                          index: 0,
                          fields: [
                            { dataType: "bytes", title: "ip" },
                            { dataType: "integer", title: "port" },
                          ],
                        },
                        {
                          title: "DeregisterVector",
                          dataType: "constructor",
                          index: 1,
                          fields: [],
                        },
                        {
                          title: "ChangeStake",
                          dataType: "constructor",
                          index: 2,
                          fields: [],
                        },
                        {
                          title: "UpdateVector",
                          dataType: "constructor",
                          index: 3,
                          fields: [
                            { dataType: "bytes", title: "ip" },
                            { dataType: "integer", title: "port" },
                          ],
                        },
                        {
                          title: "ChangeProtocolParams",
                          dataType: "constructor",
                          index: 4,
                          fields: [],
                        },
                      ],
                    },
                  ],
                },
              ],
            },
          ],
        },
        { title: "Wipe", dataType: "constructor", index: 2, fields: [] },
      ],
    },
  },
) as unknown as V3MatrixSvmValidator;

export interface V3NexusNftPolicy {
  new (
    nexusAddress: {
      paymentCredential: { VerificationKey: [string] } | { Script: [string] };
      stakeCredential:
        | { Inline: [{ VerificationKey: [string] } | { Script: [string] }] }
        | {
            Pointer: {
              slotNumber: bigint;
              transactionIndex: bigint;
              certificateIndex: bigint;
            };
          }
        | null;
    },
    nexusId: string,
  ): Script;
  _redeemer: PlutusData;
}

export const V3NexusNftPolicy = Object.assign(
  function (
    nexusAddress: {
      paymentCredential: { VerificationKey: [string] } | { Script: [string] };
      stakeCredential:
        | { Inline: [{ VerificationKey: [string] } | { Script: [string] }] }
        | {
            Pointer: {
              slotNumber: bigint;
              transactionIndex: bigint;
              certificateIndex: bigint;
            };
          }
        | null;
    },
    nexusId: string,
  ) {
    return cborToScript(
      applyParamsToScript(
        "590e1d01010032323232323232323232223225333006323232323253323300c3001300e3754004264646646646464646464646464646464646444a660409210d6d6b5f7468726561645f6e66740013232330010013300b3756604e605060506050605060486ea806800c894ccc098004528899299981199191919299981399b87002480045288a998141b993300e375060186eb0c048c0a8dd5010244100153330273019002153330273300b3758602460546ea80808c94cc0a924010674617267657400153302a3732660206ea400522100153302a4910868616c665f6e667400153302a3732660206ea400d22100153302a491036e667400153302a3732660206ea40152210013371e00200664a66054920113736565642e7472616e73616374696f6e5f696400153302a373266020602860586ea800522100153302a49111736565642e6f75747075745f696e64657800153302a373266020603860586ea800522100153302a3732660206ea4cdc59bad301c302c37540026eb8c050c0b0dd5000a4500133012372866e2cdd6980e18161baa001375c602860586ea800520203013302b37540022660166eb0c06cc0a8dd50101299981419baf3013302b375400204c264a66605a0022a660549201096e6f20746f6b656e730016132533302e303100213232533302c301e375a605e004264a66605aa66605a66e3c03cdd7180c18181baa301830303754002294454cc0b9240128746869735f706f6c696379203d3d20646174756d2e69642e63757272656e6379203f2046616c73650014a02a66605aa66605aa66605a66e3c024dd7181018181baa301830303754002266e3c0240085280a51153302e49012e6e6674203d3d20646174756d2e69642e746f6b656e202626206e6674203d3d2069645f6e6674203f2046616c73650014a02a66605a66664444a6606492010c6d6b5f73696e676c65746f6e0013371e6eb8c090c0d0dd5002016980c18181baa001302030303754002604260606ea8004dd5981018181baa00614a22a6605c921637374617274696e675f666e286e657875735f7574786f2c20646174756d2e69642c20646174756d2e636f6e6669672c20646174756d2e73746174652c206f75747075742e76616c75652c20746869735f706f6c6963792c20747829203f2046616c73650014a0294052818078028019bae302d0013030002001153302a4910f746f6f206d616e7920746f6b656e730016330123756603660566ea80040285280a5014a06601e00490101bad3028002375c604c00260520042660060060022940c0a40054ccc07cc044c084dd5260103d87a800014c103d87a8000133225330224911266696e645f7265666572656e63655f73766d001323300100100222533302700114c103d87a80001323253330253017333222325333029301b302b37540022900009bad302f302c375400264a666052603660566ea80045300103d87a80001323300100137566060605a6ea8008894ccc0bc004530103d87a8000132323232533302f337220100042a66605e66e3c0200084c080cc0d0dd4000a5eb80530103d87a8000133006006003375a60620066eb8c0bc008c0cc008c0c4004cc06000c008dd5980c18141baa3018302837540046eb8c040c0a0dd50031bae30183028375400c2602c6605400497ae0133004004001302b0023029001302530223754980103d87a80003758602460446ea806088c8cc00400400c894ccc0900045280992999810980218138010a51133003003001302700130010012253330200011480004cdc0240046600400460460026002002444a6664666604800626464646464646601e00400266e292210128000025333020337100069007099b80483c80400c54ccc080cdc4001a410004266e00cdc0241002800690068b2999811800899b8a4881035b5d2900005133714911035b5f2000333300b00133714911025d290000522333009009002300600122333009009002001375860420046eb4c07c004c8cdd81ba8301f001374e60400026ea800c4c94ccc0840044cdc52441027b7d00003133714911037b5f200032323300100100322533302400110031533302430270011323330090093023001337149101023a2000333009009302400100430260011323330090093023001337149101023a20003330090093024001300633003003302800230260013371491102207d000033756006264a666042002266e29221025b5d00003133714911035b5f2000333300900133714911015d000032233300700700230040012233300700700200137580066e292201022c2000133008375a0040022646466e2922010268270000132333001001337006e34009200133714911012700003222533301f3371000490000800899191919980300319b8000548004cdc599b80002533302233710004900a0a40c02903719b8b33700002a66604466e2000520141481805206e0043370c004901019b8300148080cdc70020011bae0022233371800266e04dc68010008011119299980c9805980d9baa00114bd6f7b63009bab301f301c375400266010004002460380024444646600200200a44a66603c002200a2a66603c6042002266006604000200a266008604000266004004604200244646600200200644a66602e6018002266e2922101300000315333017337100029000099b8a489012d003300200233702900000089980299b8400148050cdc599b803370a002900a240c00066002002444a66602866e2400920001001133300300333708004900a19b8b3370066e1400920144818000488c8cc00400400c894ccc060004530103d87a800013232323253330183372200e0042a66603066e3c01c0084c024cc074dd3000a5eb80530103d87a8000133006006003375660340066eb8c060008c070008c068004dd2a400064644a660269210d65787472616374206e657875730013253330133370e9002180a9baa001132533333301c00115333014300930163754002264a666032002028264a66666603c002264a66603600202c264a666666040002264a66603a002030264a6666660440022a66603c6042004266601400a2a666034601e60386ea800c4c94ccc07c0040684c94cccccc0900044c94ccc0840040704c94ccc088c0940084ccc03800c54ccc078c04cc080dd5002899299981180080f09929999998140008992999812800810099192999813800811099299999981600081181189919299981500081289929999998178008a99981598170010a999813980e18149baa008132533302c001027132533333303100102802802813232533302f00102a132533333303400102b02b02b13232533303200102d132533333303700102e02e02e132325333035001030132533333303a001031031031132325333038001033132533333303d00103403403413232533303b001036132533333304000103703703713232533303e001039132533333304300103a03a03a13232533304100103c132533333304600103d03d03d03d13232533304400103f132533333304900115333045304800215333041303630433754002264a66608c002082264a66666609600208408408426464a666092002088264a66666609c00208a08a08a264a666096609c006264660020020484464a66609c0042a666094607e60986ea80904c94ccc13c0041284c94cccccc1500044c94ccc1440041304c94cccccc15800454ccc148c1540084ccc0fc00c4ccc0fc00440ec134134134134134134134c14c004c14c00812c12c12c12cc144004c134dd50120248992999999829800825025025025099180198298021bae00130500023002002046375a00208a609600260960066eb4004108c120004c110dd5000820020020020020020182300098230019bae00130430013043003375a002074608000260800066eb40040dcc0f4004c0f400cdd680081a181d000981d0019bad00103130370013037003375a00205c606800260680066eb40040acc0c4004c0c400cdd6800814181700098151baa008026026026026026026302c001302c003375800204604660520026052004604e002604e00403e03e03e03e604a00260426ea8014074074074c08c004c08c00806c06c06c06cc084004c074dd500180c80c80c80c80c80c80c980f800980f80100b80b80b80b980e800980e80100a80a80a80a980d800980b9baa0010130130130130133019301637540022a6602892012c6578706563742074782e496e6c696e65446174756d28696e6c696e6529203d206f75747075742e646174756d0016300630153754002444a6660266010602a6ea800c4c94ccc0600040084c94cccccc07400400c00c00c00c4c8c94ccc06c0040144c94cccccc0800040180180180184c94ccc074c08000c5402001cdd7000980e800980e8019bae001301a00130163754006002444a666024600e60286ea800c4c94ccc05c0040084c94cccccc0700044c94ccc0640040104c94cccccc0780044c94ccc06cc06800454ccc05ccdc4a4008603200200c264a666038603e00826464a666034601e0022a66603c603a6ea801c5400802454ccc068c0300044c94ccc07c0040284c94cccccc09000402c02c02c4c94ccc084c09000c54014030dd68008059810800980e9baa0071533301a3370e90020008a99980f180e9baa00715002009009301b375400c2a01000e6012603200200c6ea8004014014014014c06c004c06c00800c00c00c00cc064004c054dd50018009b8748008dd7180a18089baa0042301430150012301330143014001370e90000a998062491a6e65787573206e66745f706f6c6963793a206e6f74206d696e74001630103011002300f001300f002300d001300937540022930a99803a491856616c696461746f722072657475726e65642066616c73650013656375c0022a660049212165787065637420646174756d3a204e65787573446174756d203d20696e6c696e6500165734ae7155ceaab9e5573eae815d0aba257481",
        [nexusAddress, nexusId],
        {
          dataType: "list",
          items: [
            {
              title: "Address",
              description:
                "A Cardano `Address` typically holding one or two credential references.\n\n Note that legacy bootstrap addresses (a.k.a. 'Byron addresses') are\n completely excluded from Plutus contexts. Thus, from an on-chain\n perspective only exists addresses of type 00, 01, ..., 07 as detailed\n in [CIP-0019 :: Shelley Addresses](https://github.com/cardano-foundation/CIPs/tree/master/CIP-0019/#shelley-addresses).",
              anyOf: [
                {
                  title: "Address",
                  dataType: "constructor",
                  index: 0,
                  fields: [
                    {
                      title: "paymentCredential",
                      description:
                        "A general structure for representing an on-chain `Credential`.\n\n Credentials are always one of two kinds: a direct public/private key\n pair, or a script (native or Plutus).",
                      anyOf: [
                        {
                          title: "VerificationKey",
                          dataType: "constructor",
                          index: 0,
                          fields: [{ dataType: "bytes" }],
                        },
                        {
                          title: "Script",
                          dataType: "constructor",
                          index: 1,
                          fields: [{ dataType: "bytes" }],
                        },
                      ],
                    },
                    {
                      title: "stakeCredential",
                      anyOf: [
                        {
                          title: "Some",
                          description: "An optional value.",
                          dataType: "constructor",
                          index: 0,
                          fields: [
                            {
                              description:
                                "Represent a type of object that can be represented either inline (by hash)\n or via a reference (i.e. a pointer to an on-chain location).\n\n This is mainly use for capturing pointers to a stake credential\n registration certificate in the case of so-called pointer addresses.",
                              anyOf: [
                                {
                                  title: "Inline",
                                  dataType: "constructor",
                                  index: 0,
                                  fields: [
                                    {
                                      description:
                                        "A general structure for representing an on-chain `Credential`.\n\n Credentials are always one of two kinds: a direct public/private key\n pair, or a script (native or Plutus).",
                                      anyOf: [
                                        {
                                          title: "VerificationKey",
                                          dataType: "constructor",
                                          index: 0,
                                          fields: [{ dataType: "bytes" }],
                                        },
                                        {
                                          title: "Script",
                                          dataType: "constructor",
                                          index: 1,
                                          fields: [{ dataType: "bytes" }],
                                        },
                                      ],
                                    },
                                  ],
                                },
                                {
                                  title: "Pointer",
                                  dataType: "constructor",
                                  index: 1,
                                  fields: [
                                    {
                                      dataType: "integer",
                                      title: "slotNumber",
                                    },
                                    {
                                      dataType: "integer",
                                      title: "transactionIndex",
                                    },
                                    {
                                      dataType: "integer",
                                      title: "certificateIndex",
                                    },
                                  ],
                                },
                              ],
                            },
                          ],
                        },
                        {
                          title: "None",
                          description: "Nothing.",
                          dataType: "constructor",
                          index: 1,
                          fields: [],
                        },
                      ],
                    },
                  ],
                },
              ],
            },
            { title: "AssetName", dataType: "bytes" },
          ],
        } as any,
      ),
      "PlutusV3",
    );
  },

  { _redeemer: { title: "Data", description: "Any Plutus data." } },
) as unknown as V3NexusNftPolicy;

export interface V3NexusSvmValidator {
  new (): Script;
  datum: {
    id: { currency: string; token: string };
    config: {
      matrix: { currency: string; token: string };
      dappConfig: PlutusData;
    };
    state: {
      tiamatParams: {
        minStake: bigint;
        cycleDuration: bigint;
        marginDuration: bigint;
        hingeLock: bigint;
        numEigenvectors: bigint;
        numSupportVectors: bigint;
        suggestedTip: bigint;
        vestingPolicy: string;
        vestingRate: { numerator: bigint; denominator: bigint };
      };
      dappParams: PlutusData;
      eigenvectors: Array<string>;
      currentCycle: {
        lowerBound: {
          boundType:
            | "NegativeInfinity"
            | { Finite: [bigint] }
            | "PositiveInfinity";
          isInclusive: boolean;
        };
        upperBound: {
          boundType:
            | "NegativeInfinity"
            | { Finite: [bigint] }
            | "PositiveInfinity";
          isInclusive: boolean;
        };
      };
    };
  };
  redeemer:
    | { Revolve: { action: undefined } }
    | { Halt: { action: undefined } }
    | "Wipe";
}

export const V3NexusSvmValidator = Object.assign(
  function () {
    return cborToScript(
      "5901a801010032323232323232323225333003323232323253330083370e900118051baa001132323253333330120051323253233300e3001002132533301300100e1325333333017001153330103003301237540022a66602860266ea800454ccc050c0580085401403c03c03c03c03c03c03cc050004c044dd50040a99980719b87480080084c94ccc04c0040384c94cccccc05c00454ccc040c00cc048dd50008a99980a18099baa0011533301430160021500500f00f00f00f00f00f00f3014001301137540102a66601c66e1d200400215333012301137540102a00601a01a6e1d2000300e375400c2a66018921136e657875732073766d5f76616c696461746f720014a2014014014014601e6020004601c00260166ea800454cc02524011e6e657875732073766d5f76616c696461746f723a206e6f74207370656e640016300c300d002300b001300b0023009001300637540022930a998022491856616c696461746f722072657475726e65642066616c73650013656153300249011772656465656d65723a204e6578757352656465656d657200165734ae7155ceaab9e5573eae855d12ba41",
      "PlutusV3",
    );
  },
  {
    datum: {
      title: "NexusDatum",
      anyOf: [
        {
          title: "Datum",
          dataType: "constructor",
          index: 0,
          fields: [
            {
              title: "id",
              anyOf: [
                {
                  title: "Asset",
                  dataType: "constructor",
                  index: 0,
                  fields: [
                    { title: "currency", dataType: "bytes" },
                    { title: "token", dataType: "bytes" },
                  ],
                },
              ],
            },
            {
              title: "config",
              anyOf: [
                {
                  title: "NexusConfig",
                  dataType: "constructor",
                  index: 0,
                  fields: [
                    {
                      title: "matrix",
                      anyOf: [
                        {
                          title: "Asset",
                          dataType: "constructor",
                          index: 0,
                          fields: [
                            { title: "currency", dataType: "bytes" },
                            { title: "token", dataType: "bytes" },
                          ],
                        },
                      ],
                    },
                    { title: "dappConfig", description: "Any Plutus data." },
                  ],
                },
              ],
            },
            {
              title: "state",
              anyOf: [
                {
                  title: "NexusState",
                  dataType: "constructor",
                  index: 0,
                  fields: [
                    {
                      title: "tiamatParams",
                      anyOf: [
                        {
                          title: "TiamatParams",
                          dataType: "constructor",
                          index: 0,
                          fields: [
                            { dataType: "integer", title: "minStake" },
                            { dataType: "integer", title: "cycleDuration" },
                            { dataType: "integer", title: "marginDuration" },
                            { dataType: "integer", title: "hingeLock" },
                            { dataType: "integer", title: "numEigenvectors" },
                            { dataType: "integer", title: "numSupportVectors" },
                            { dataType: "integer", title: "suggestedTip" },
                            { title: "vestingPolicy", dataType: "bytes" },
                            {
                              title: "vestingRate",
                              anyOf: [
                                {
                                  title: "FreeRational",
                                  dataType: "constructor",
                                  index: 0,
                                  fields: [
                                    { dataType: "integer", title: "numerator" },
                                    {
                                      dataType: "integer",
                                      title: "denominator",
                                    },
                                  ],
                                },
                              ],
                            },
                          ],
                        },
                      ],
                    },
                    { title: "dappParams", description: "Any Plutus data." },
                    {
                      dataType: "list",
                      items: { title: "Vector", dataType: "bytes" },
                      title: "eigenvectors",
                    },
                    {
                      title: "currentCycle",
                      description:
                        "A type to represent intervals of values. Interval are inhabited by a type\n `a` which is useful for non-infinite intervals that have a finite\n lower-bound and/or upper-bound.\n\n This allows to represent all kind of mathematical intervals:\n\n ```aiken\n // [1; 10]\n let i0: Interval<PosixTime> = Interval\n   { lower_bound:\n       IntervalBound { bound_type: Finite(1), is_inclusive: True }\n   , upper_bound:\n       IntervalBound { bound_type: Finite(10), is_inclusive: True }\n   }\n ```\n\n ```aiken\n // (20; infinity)\n let i1: Interval<PosixTime> = Interval\n   { lower_bound:\n       IntervalBound { bound_type: Finite(20), is_inclusive: False }\n   , upper_bound:\n       IntervalBound { bound_type: PositiveInfinity, is_inclusive: False }\n   }\n ```",
                      anyOf: [
                        {
                          title: "Interval",
                          dataType: "constructor",
                          index: 0,
                          fields: [
                            {
                              title: "lowerBound",
                              description:
                                "An interval bound, either inclusive or exclusive.",
                              anyOf: [
                                {
                                  title: "IntervalBound",
                                  dataType: "constructor",
                                  index: 0,
                                  fields: [
                                    {
                                      title: "boundType",
                                      description:
                                        "A type of interval bound. Where finite, a value of type `a` must be\n provided. `a` will typically be an `Int`, representing a number of seconds or\n milliseconds.",
                                      anyOf: [
                                        {
                                          title: "NegativeInfinity",
                                          dataType: "constructor",
                                          index: 0,
                                          fields: [],
                                        },
                                        {
                                          title: "Finite",
                                          dataType: "constructor",
                                          index: 1,
                                          fields: [{ dataType: "integer" }],
                                        },
                                        {
                                          title: "PositiveInfinity",
                                          dataType: "constructor",
                                          index: 2,
                                          fields: [],
                                        },
                                      ],
                                    },
                                    {
                                      title: "isInclusive",
                                      anyOf: [
                                        {
                                          title: "False",
                                          dataType: "constructor",
                                          index: 0,
                                          fields: [],
                                        },
                                        {
                                          title: "True",
                                          dataType: "constructor",
                                          index: 1,
                                          fields: [],
                                        },
                                      ],
                                    },
                                  ],
                                },
                              ],
                            },
                            {
                              title: "upperBound",
                              description:
                                "An interval bound, either inclusive or exclusive.",
                              anyOf: [
                                {
                                  title: "IntervalBound",
                                  dataType: "constructor",
                                  index: 0,
                                  fields: [
                                    {
                                      title: "boundType",
                                      description:
                                        "A type of interval bound. Where finite, a value of type `a` must be\n provided. `a` will typically be an `Int`, representing a number of seconds or\n milliseconds.",
                                      anyOf: [
                                        {
                                          title: "NegativeInfinity",
                                          dataType: "constructor",
                                          index: 0,
                                          fields: [],
                                        },
                                        {
                                          title: "Finite",
                                          dataType: "constructor",
                                          index: 1,
                                          fields: [{ dataType: "integer" }],
                                        },
                                        {
                                          title: "PositiveInfinity",
                                          dataType: "constructor",
                                          index: 2,
                                          fields: [],
                                        },
                                      ],
                                    },
                                    {
                                      title: "isInclusive",
                                      anyOf: [
                                        {
                                          title: "False",
                                          dataType: "constructor",
                                          index: 0,
                                          fields: [],
                                        },
                                        {
                                          title: "True",
                                          dataType: "constructor",
                                          index: 1,
                                          fields: [],
                                        },
                                      ],
                                    },
                                  ],
                                },
                              ],
                            },
                          ],
                        },
                      ],
                    },
                  ],
                },
              ],
            },
          ],
        },
      ],
    },
  },
  {
    redeemer: {
      title: "NexusRedeemer",
      anyOf: [
        {
          title: "Revolve",
          dataType: "constructor",
          index: 0,
          fields: [
            {
              title: "action",
              anyOf: [{ dataType: "constructor", index: 0, fields: [] }],
            },
          ],
        },
        {
          title: "Halt",
          dataType: "constructor",
          index: 1,
          fields: [
            {
              title: "action",
              anyOf: [{ dataType: "constructor", index: 0, fields: [] }],
            },
          ],
        },
        { title: "Wipe", dataType: "constructor", index: 2, fields: [] },
      ],
    },
  },
) as unknown as V3NexusSvmValidator;

export interface V3SlutNftPolicy {
  new (_slutAddress: {
    paymentCredential: { VerificationKey: [string] } | { Script: [string] };
    stakeCredential:
      | { Inline: [{ VerificationKey: [string] } | { Script: [string] }] }
      | {
          Pointer: {
            slotNumber: bigint;
            transactionIndex: bigint;
            certificateIndex: bigint;
          };
        }
      | null;
  }): Script;
  _redeemer: PlutusData;
}

export const V3SlutNftPolicy = Object.assign(
  function (_slutAddress: {
    paymentCredential: { VerificationKey: [string] } | { Script: [string] };
    stakeCredential:
      | { Inline: [{ VerificationKey: [string] } | { Script: [string] }] }
      | {
          Pointer: {
            slotNumber: bigint;
            transactionIndex: bigint;
            certificateIndex: bigint;
          };
        }
      | null;
  }) {
    return cborToScript(
      applyParamsToScript(
        "5892010100323232323232225333003323232323253330083370e900018051baa0011324a26eb8c030c02cdd50008a99804a4919736c7574206e66745f706f6c6963793a206e6f74206d696e740016300b300c002300a001300a0023008001300637540022930a998022491856616c696461746f722072657475726e65642066616c736500136565734ae7155ceaab9e5742ae89",
        [_slutAddress],
        {
          dataType: "list",
          items: [
            {
              title: "Address",
              description:
                "A Cardano `Address` typically holding one or two credential references.\n\n Note that legacy bootstrap addresses (a.k.a. 'Byron addresses') are\n completely excluded from Plutus contexts. Thus, from an on-chain\n perspective only exists addresses of type 00, 01, ..., 07 as detailed\n in [CIP-0019 :: Shelley Addresses](https://github.com/cardano-foundation/CIPs/tree/master/CIP-0019/#shelley-addresses).",
              anyOf: [
                {
                  title: "Address",
                  dataType: "constructor",
                  index: 0,
                  fields: [
                    {
                      title: "paymentCredential",
                      description:
                        "A general structure for representing an on-chain `Credential`.\n\n Credentials are always one of two kinds: a direct public/private key\n pair, or a script (native or Plutus).",
                      anyOf: [
                        {
                          title: "VerificationKey",
                          dataType: "constructor",
                          index: 0,
                          fields: [{ dataType: "bytes" }],
                        },
                        {
                          title: "Script",
                          dataType: "constructor",
                          index: 1,
                          fields: [{ dataType: "bytes" }],
                        },
                      ],
                    },
                    {
                      title: "stakeCredential",
                      anyOf: [
                        {
                          title: "Some",
                          description: "An optional value.",
                          dataType: "constructor",
                          index: 0,
                          fields: [
                            {
                              description:
                                "Represent a type of object that can be represented either inline (by hash)\n or via a reference (i.e. a pointer to an on-chain location).\n\n This is mainly use for capturing pointers to a stake credential\n registration certificate in the case of so-called pointer addresses.",
                              anyOf: [
                                {
                                  title: "Inline",
                                  dataType: "constructor",
                                  index: 0,
                                  fields: [
                                    {
                                      description:
                                        "A general structure for representing an on-chain `Credential`.\n\n Credentials are always one of two kinds: a direct public/private key\n pair, or a script (native or Plutus).",
                                      anyOf: [
                                        {
                                          title: "VerificationKey",
                                          dataType: "constructor",
                                          index: 0,
                                          fields: [{ dataType: "bytes" }],
                                        },
                                        {
                                          title: "Script",
                                          dataType: "constructor",
                                          index: 1,
                                          fields: [{ dataType: "bytes" }],
                                        },
                                      ],
                                    },
                                  ],
                                },
                                {
                                  title: "Pointer",
                                  dataType: "constructor",
                                  index: 1,
                                  fields: [
                                    {
                                      dataType: "integer",
                                      title: "slotNumber",
                                    },
                                    {
                                      dataType: "integer",
                                      title: "transactionIndex",
                                    },
                                    {
                                      dataType: "integer",
                                      title: "certificateIndex",
                                    },
                                  ],
                                },
                              ],
                            },
                          ],
                        },
                        {
                          title: "None",
                          description: "Nothing.",
                          dataType: "constructor",
                          index: 1,
                          fields: [],
                        },
                      ],
                    },
                  ],
                },
              ],
            },
          ],
        } as any,
      ),
      "PlutusV3",
    );
  },

  { _redeemer: { title: "Data", description: "Any Plutus data." } },
) as unknown as V3SlutNftPolicy;

export interface V3SlutSvmValidator {
  new (): Script;
  _datum: PlutusData;
  _redeemer: PlutusData;
}

export const V3SlutSvmValidator = Object.assign(
  function () {
    return cborToScript(
      "589d01010032323232323225333002323232323253330073370e900118049baa00113232324a2601a601c004601800260146ea800454cc0212411d736c75742073766d5f76616c696461746f723a206e6f74207370656e640016300a300b002300900130090023007001300537540022930a99801a491856616c696461746f722072657475726e65642066616c736500136565734ae7155ceaab9e5742ae89",
      "PlutusV3",
    );
  },
  { _datum: { title: "Data", description: "Any Plutus data." } },
  { _redeemer: { title: "Data", description: "Any Plutus data." } },
) as unknown as V3SlutSvmValidator;

export interface V3VestingNftPolicy {
  new (vestingsAddress: {
    paymentCredential: { VerificationKey: [string] } | { Script: [string] };
    stakeCredential:
      | { Inline: [{ VerificationKey: [string] } | { Script: [string] }] }
      | {
          Pointer: {
            slotNumber: bigint;
            transactionIndex: bigint;
            certificateIndex: bigint;
          };
        }
      | null;
  }): Script;
  _redeemer: PlutusData;
}

export const V3VestingNftPolicy = Object.assign(
  function (vestingsAddress: {
    paymentCredential: { VerificationKey: [string] } | { Script: [string] };
    stakeCredential:
      | { Inline: [{ VerificationKey: [string] } | { Script: [string] }] }
      | {
          Pointer: {
            slotNumber: bigint;
            transactionIndex: bigint;
            certificateIndex: bigint;
          };
        }
      | null;
  }) {
    return cborToScript(
      applyParamsToScript(
        "590b6701010032323232323232323232225333004323232323253323300a3001300c3754004264646464646464646466466464646464646444a6603c92010d6d6b5f7468726561645f6e6674001323233001001330093756604a604c604c604c604c60446ea806800c894ccc090004528899299981099191919299981299b87002480045288a998131b9933015375060186eb0c04cc0a0dd5010244100153330253012002153330253300b3758602660506ea80808c94cc0a124010674617267657400153302837326602e6ea40052210015330284910868616c665f6e667400153302837326602e6ea400d221001533028491036e667400153302837326602e6ea40152210013371e00200664a66050920113736565642e7472616e73616374696f6e5f696400153302837326602e602a60546ea800522100153302849111736565642e6f75747075745f696e64657800153302837326602e602c60546ea800522100153302837326602e6ea4cdc59bad3016302a37540026eb8c054c0a8dd5000a4500133010372866e2cdd6980b18151baa001375c602a60546ea800520203014302937540022660166eb0c06cc0a0dd50101299981319baf301430293754002048264a6660560022a660509201096e6f20746f6b656e730016132533302c302f00213232533302a3017375a605a004264a666056a66605666e3c03cdd7180c98171baa3019302e3754002294454cc0b1240128746869735f706f6c696379203d3d20646174756d2e69642e63757272656e6379203f2046616c73650014a02a666056a666056a66605666e3c024dd7180d18171baa3019302e3754002266e3c0240085280a51153302c49012e6e6674203d3d20646174756d2e69642e746f6b656e202626206e6674203d3d2069645f6e6674203f2046616c73650014a02a666056666666602001c6032605c6ea8004c068c0b8dd5000981098171baa00137566034605c6ea801803c0985288a998162481637374617274696e675f666e286e657875735f7574786f2c20646174756d2e69642c20646174756d2e636f6e6669672c20646174756d2e73746174652c206f75747075742e76616c75652c20746869735f706f6c6963792c20747829203f2046616c73650014a02940528299815a490f657874726163742076657374696e6700132533302b3370e900218169baa00113253302d37326603800291100153333330340011533302c3023302e3754002264a666062002058264a66666606c002264a66606600205c264a666666070002264a66606a002060264a6666660740022a66606c60720042a666064605260686ea80144c94ccc0dc0040c84c94cccccc0f00040cc0cc0cc0cc4c8c94ccc0e80040d44c94cccccc0fc0040d80d80d80d84c94ccc0f0c0fc00c54ccc0e0c0bcc0e8dd5004899299981e80081c099299999982100081c81c81c81c899299981f98210018a99981d9819181e9baa00a132533304000103b132533333304500103c03c03c13253330423045003101303d375a0020786084002607c6ea80280e80e8dd7000981f800981d9baa009037037375c002607800260780066eb8004c0e4004c0d4dd5002818818818818818818981b800981b801017817817817981a800981a801016816816816981980098179baa00102b02b02b02b02b3031302e37540022a660589212c6578706563742074782e496e6c696e65446174756d28696e6c696e6529203d206f75747075742e646174756d00163020302d375400a0066eb8c0ac004c0b800800454cc0a124010f746f6f206d616e7920746f6b656e730016330103756602a60526ea80040285280a5014a06601a00490101bad3026002375c6048002604e0042660060060022940c09c0054ccc074c028c07cdd5260103d87a800014c103d87a8000133225330204911266696e645f7265666572656e63655f73766d001323300100100222533302500114c103d87a800013232533302330103332223253330273014302937540022900009bad302d302a375400264a66604e602860526ea80045300103d87a8000132330010013756605c60566ea8008894ccc0b4004530103d87a8000132323232533302d337220100042a66605a66e3c0200084c064cc0c8dd4000a5eb80530103d87a8000133006006003375a605e0066eb8c0b4008c0c4008c0bc004cc04400c008dd5980918131baa3012302637540046eb8c044c098dd50031bae30123026375400c2601e6605000497ae013300400400130290023027001302330203754980103d87a80003758601860406ea806088c8cc00400400c894ccc088004528099299980f980218128010a511330030030013025001300100122533301e0011480004cdc02400466004004604200244666e30004cdc09b8d002001002223253330193006301b3754002297adef6c6013756603e60386ea8004cc00c00800488c8cc00400400c894ccc074004530103d87a8000132323232533301d3372200e0042a66603a66e3c01c0084c024cc088dd3000a5eb80530103d87a80001330060060033756603e0066eb8c074008c084008c07c004dd2a4000644444444a6603a9210d76657374696e672e737461727400132533301d300a301f3754002264a6603e60140022a6603e60146eb4c030c084dd5003099b89001375a601860426ea8018dd6981198101baa001153301e491456578706563742046696e6974652874785f76616c69645f746f29203d2074782e76616c69646974795f72616e67652e75707065725f626f756e642e626f756e645f747970650016300a301f37546016603e6ea8c088c08cc08cc08cc08cc08cc08cc08cc07cdd500091b9933005375000291100370e90011bae301930163754016460320024603060320026002002444a6664666603600626464646464646601800400266e292210128000025333017337100069007099b80483c80400c54ccc05ccdc4001a410004266e00cdc0241002800690068b299980d000899b8a4881035b5d2900005133714911035b5f2000333300800133714911025d290000522333009009002300600122333009009002001375860300046eb4c058004c8cdd81ba83016001374e602e0026ea800c4c94ccc0600044cdc52441027b7d00003133714911037b5f200032323300100100322533301b00110031533301b301e001132333009009301a001337149101023a2000333009009301b001004301d001132333009009301a001337149101023a2000333009009301b001300633003003301f002301d0013371491102207d000033756006264a666030002266e29221025b5d00003133714911035b5f2000333300600133714911015d000032233300700700230040012233300700700200137580066e292201022c2000133005375a0040022646466e2922010268270000132333001001337006e3400920013371491101270000322253330163371000490000800899191919980300319b8000548004cdc599b80002533301933710004900a0a40c02903719b8b33700002a66603266e2000520141481805206e0043370c004901019b8300148080cdc70020011bae00222223233001001005225333018001100515333018301b001133003301a001005133004301a00133002002301b001223233001001003225333011300800113371491101300000315333011337100029000099b8a489012d003300200233702900000089980299b8400148050cdc599b803370a002900a240c00066002002444a66601c66e2400920001001133300300333708004900a19b8b3370066e140092014481800048c044c048c048004dc3a40002a6601492011c76657374696e67206e66745f706f6c6963793a206e6f74206d696e740016300e300f002300d001300d002300b001300737540022930a99802a491856616c696461746f722072657475726e65642066616c73650013656153300249012365787065637420646174756d3a2056657374696e67446174756d203d20696e6c696e6500165734ae7155ceaab9e5573eae815d0aba257481",
        [vestingsAddress],
        {
          dataType: "list",
          items: [
            {
              title: "Address",
              description:
                "A Cardano `Address` typically holding one or two credential references.\n\n Note that legacy bootstrap addresses (a.k.a. 'Byron addresses') are\n completely excluded from Plutus contexts. Thus, from an on-chain\n perspective only exists addresses of type 00, 01, ..., 07 as detailed\n in [CIP-0019 :: Shelley Addresses](https://github.com/cardano-foundation/CIPs/tree/master/CIP-0019/#shelley-addresses).",
              anyOf: [
                {
                  title: "Address",
                  dataType: "constructor",
                  index: 0,
                  fields: [
                    {
                      title: "paymentCredential",
                      description:
                        "A general structure for representing an on-chain `Credential`.\n\n Credentials are always one of two kinds: a direct public/private key\n pair, or a script (native or Plutus).",
                      anyOf: [
                        {
                          title: "VerificationKey",
                          dataType: "constructor",
                          index: 0,
                          fields: [{ dataType: "bytes" }],
                        },
                        {
                          title: "Script",
                          dataType: "constructor",
                          index: 1,
                          fields: [{ dataType: "bytes" }],
                        },
                      ],
                    },
                    {
                      title: "stakeCredential",
                      anyOf: [
                        {
                          title: "Some",
                          description: "An optional value.",
                          dataType: "constructor",
                          index: 0,
                          fields: [
                            {
                              description:
                                "Represent a type of object that can be represented either inline (by hash)\n or via a reference (i.e. a pointer to an on-chain location).\n\n This is mainly use for capturing pointers to a stake credential\n registration certificate in the case of so-called pointer addresses.",
                              anyOf: [
                                {
                                  title: "Inline",
                                  dataType: "constructor",
                                  index: 0,
                                  fields: [
                                    {
                                      description:
                                        "A general structure for representing an on-chain `Credential`.\n\n Credentials are always one of two kinds: a direct public/private key\n pair, or a script (native or Plutus).",
                                      anyOf: [
                                        {
                                          title: "VerificationKey",
                                          dataType: "constructor",
                                          index: 0,
                                          fields: [{ dataType: "bytes" }],
                                        },
                                        {
                                          title: "Script",
                                          dataType: "constructor",
                                          index: 1,
                                          fields: [{ dataType: "bytes" }],
                                        },
                                      ],
                                    },
                                  ],
                                },
                                {
                                  title: "Pointer",
                                  dataType: "constructor",
                                  index: 1,
                                  fields: [
                                    {
                                      dataType: "integer",
                                      title: "slotNumber",
                                    },
                                    {
                                      dataType: "integer",
                                      title: "transactionIndex",
                                    },
                                    {
                                      dataType: "integer",
                                      title: "certificateIndex",
                                    },
                                  ],
                                },
                              ],
                            },
                          ],
                        },
                        {
                          title: "None",
                          description: "Nothing.",
                          dataType: "constructor",
                          index: 1,
                          fields: [],
                        },
                      ],
                    },
                  ],
                },
              ],
            },
          ],
        } as any,
      ),
      "PlutusV3",
    );
  },

  { _redeemer: { title: "Data", description: "Any Plutus data." } },
) as unknown as V3VestingNftPolicy;

export interface V3VestingSvmValidator {
  new (nexus: { currency: string; token: string }): Script;
  datum: {
    id: { currency: string; token: string };
    config: { owner: string };
    state: { timeLock: bigint };
  };
  redeemer:
    | { Revolve: { action: undefined } }
    | { Halt: { action: undefined } }
    | "Wipe";
}

export const V3VestingSvmValidator = Object.assign(
  function (nexus: { currency: string; token: string }) {
    return cborToScript(
      applyParamsToScript(
        "5906ad0101003232323232323232323232225333005323232323253323300b3001300d37540042646464a66666602c00c264646464a6660246008002264a66602e002022264a6666660380022a666028600c602c6ea800454ccc060c05cdd50008a99980c180d8010a802009009009009009009009180c800980a9baa00a1533301230080011325333017001011132533333301c001153330143006301637540022a666030602e6ea800454ccc060c06c00854010048048048048048048048c064004c054dd50050a99980918018008a99980b180a9baa00a15002010010301337540122a6602292011576657374696e672073766d5f76616c696461746f7200153330103002301237540062666444a6602892010c6d6b5f76616c696461746f720014a266e9520003301500d4bd70191919191919129980c2490f657874726163742076657374696e670013253330183009301a3754002264a660346e64cc0100052201001533333302100115333019300b301b3754002264a66603c002032264a666666046002264a666040002036264a66666604a002264a66604400203a264a66666604e0022a666046604c0042a66603e602260426ea80144c94ccc09000407c4c94cccccc0a40040800800800804c8c94ccc09c0040884c94cccccc0b000408c08c08c08c4c94ccc0a4c0b000c5454ccc094c05cc09cdd500489929998150008128992999999817800813013013013099299981618178018a999814180d18151baa00a132533302d0010281325333333032001029029029132533302f3032003101302a375a002052605e00260566ea802809c09cdd7000981600098141baa009024024375c002605200260520066eb8004c098004c088dd500280f00f00f00f00f00f1812000981200100e00e00e00e1811000981100100d00d00d00d1810000980e1baa001018018018018018301e301b37540022a660329212c6578706563742074782e496e6c696e65446174756d28696e6c696e6529203d206f75747075742e646174756d0016301d301e301e301a37540026002002444a6664666604000626464646464646601800400266e29221012800002533301c337100069007099b80483c80400c54ccc070cdc4001a410004266e00cdc0241002800690068b299980f800899b8a4881035b5d2900005133714911035b5f2000333300800133714911025d2900005223330090090023006001223330090090020013758603a0046eb4c06c004c8cdd81ba8301b001374e60380026ea800c4c94ccc0740044cdc52441027b7d00003133714911037b5f20003232330010010032253330200011003153330203023001132333009009301f001337149101023a200033300900930200010043022001132333009009301f001337149101023a20003330090093020001300633003003302400230220013371491102207d000033756006264a66603a002266e29221025b5d00003133714911035b5f2000333300600133714911015d000032233300700700230040012233300700700200137580066e292201022c2000133005375a0040022646466e2922010268270000132333001001337006e34009200133714911012700003222533301b3371000490000800899191919980300319b8000548004cdc599b80002533301e33710004900a0a40c02903719b8b33700002a66603c66e2000520141481805206e0043370c004901019b8300148080cdc70020011bae0022222323300100100522533301d00110051533301d3020001133003301f001005133004301f001330020023020001223233001001003225333016300800113371491101300000315333016337100029000099b8a489012d003300200233702900000089980299b8400148050cdc599b803370a002900a240c00066002002444a66602666e2400920001001133300300333708004900a19b8b3370066e14009201448180004c058c04cdd50018a99808a4813065787065637420536f6d6528646174756d293a204f7074696f6e3c56657374696e67446174756d3e203d20646174756d0016370e90021b8748000030030030030c04cc050008c048004c038dd50011b874800854cc02d2412076657374696e672073766d5f76616c696461746f723a206e6f74207370656e640016300f3010002300e001300e002300c001300837540022930a998032491856616c696461746f722072657475726e65642066616c73650013656153300349011972656465656d65723a2056657374696e6752656465656d6572001615330024912365787065637420646174756d3a2056657374696e67446174756d203d20696e6c696e6500165734ae7155ceaab9e5573eae815d0aba257481",
        [nexus],
        {
          dataType: "list",
          items: [
            {
              title: "Asset",
              anyOf: [
                {
                  title: "Asset",
                  dataType: "constructor",
                  index: 0,
                  fields: [
                    { title: "currency", dataType: "bytes" },
                    { title: "token", dataType: "bytes" },
                  ],
                },
              ],
            },
          ],
        } as any,
      ),
      "PlutusV3",
    );
  },
  {
    datum: {
      title: "VestingDatum",
      anyOf: [
        {
          title: "Datum",
          dataType: "constructor",
          index: 0,
          fields: [
            {
              title: "id",
              anyOf: [
                {
                  title: "Asset",
                  dataType: "constructor",
                  index: 0,
                  fields: [
                    { title: "currency", dataType: "bytes" },
                    { title: "token", dataType: "bytes" },
                  ],
                },
              ],
            },
            {
              title: "config",
              anyOf: [
                {
                  title: "VestingConfig",
                  dataType: "constructor",
                  index: 0,
                  fields: [{ title: "owner", dataType: "bytes" }],
                },
              ],
            },
            {
              title: "state",
              anyOf: [
                {
                  title: "VestingState",
                  dataType: "constructor",
                  index: 0,
                  fields: [{ dataType: "integer", title: "timeLock" }],
                },
              ],
            },
          ],
        },
      ],
    },
  },
  {
    redeemer: {
      title: "VestingRedeemer",
      anyOf: [
        {
          title: "Revolve",
          dataType: "constructor",
          index: 0,
          fields: [
            {
              title: "action",
              anyOf: [{ dataType: "constructor", index: 0, fields: [] }],
            },
          ],
        },
        {
          title: "Halt",
          dataType: "constructor",
          index: 1,
          fields: [
            {
              title: "action",
              anyOf: [{ dataType: "constructor", index: 0, fields: [] }],
            },
          ],
        },
        { title: "Wipe", dataType: "constructor", index: 2, fields: [] },
      ],
    },
  },
) as unknown as V3VestingSvmValidator;
